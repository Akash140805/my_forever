<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My Forever ‚ù§Ô∏è</title>

<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&family=Poppins:wght@300;400&display=swap" rel="stylesheet">

<style>
:root{
  --bg:#fff1f5;
  --accent:#e11d48;
  --text:#3f1d28;
  --paper:#fffaf5;
}

*{box-sizing:border-box;margin:0;padding:0}
body{
  background: linear-gradient(
    180deg,
    #ffe4ec 0%,
    #fff1f5 35%,
    #ffffff 100%
  );
  font-family:Poppins,sans-serif;
  color:var(--text);
  overflow-x:hidden;
}
body::before {
  content: "";
  position: fixed;
  inset: 0;
  background: radial-gradient(
    circle at 50% 30%,
    rgba(255, 192, 203, 0.25),
    transparent 60%
  );
  pointer-events: none;
  z-index: -1;
}

.center{
  min-height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  padding:20px;
  text-align:center;
}

/* Envelope */
.envelope{
  width:220px;height:140px;
  background:#f8c8dc;
  border-radius:8px;
  position:relative;
  cursor:pointer;
  box-shadow:0 15px 30px rgba(0,0,0,.15);
  animation:float 3s ease-in-out infinite;
}
.flap{
  position:absolute;
  top:0;width:100%;height:50%;
  background:#f3a6c8;
  clip-path:polygon(0 0,100% 0,50% 100%);
  transform-origin:top;
  transition:1s;
}
.envelope.open .flap{transform:rotateX(180deg)}
@keyframes float{50%{transform:translateY(-10px)}}

/* Letter */
.letter{
  background:var(--paper);
  max-width:520px;
  padding:25px;
  border-radius:12px;
  font-family:'Dancing Script',cursive;
  font-size:1.2rem;
  line-height:1.6;
  box-shadow:0 10px 25px rgba(0,0,0,.15);
  animation:fadeUp 1.5s ease;
}
@keyframes fadeUp{from{opacity:0;transform:translateY(20px)}}


/* Cards */
.cards{
  width:100%;
  max-width:360px;
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:15px;
  margin-top:20px;
}
.card{
  background:#fff;
  border-radius:12px;
  padding:15px;
  box-shadow:0 5px 15px rgba(0,0,0,.1);
  opacity:.4;
}
.card.unlocked{opacity:1;cursor:pointer}

/* Gift */
.gift{
  font-size:4rem;
  animation:pulse 2s infinite;
}
@keyframes pulse{50%{transform:scale(1.08)}}

@keyframes softFadeIn {
  from {
    opacity: 0;
    transform: scale(0.96);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.fade-in {
  animation: softFadeIn 1.8s ease-out forwards;
  animation-delay: 0.02s;
  opacity: 0;
}



/* Buttons */
button{
  margin-top:20px;
  padding:12px 24px;
  border:none;
  border-radius:25px;
  background:var(--accent);
  color:#fff;
  font-size:.95rem;
  cursor:pointer;
}

/* Valentine Question */
.options{
  display:flex;
  gap:20px;
  margin-top:25px;
}
.no{
  position:relative;
}

/* Hearts */
.heart{
  position:fixed;
  bottom:-20px;
  animation:rise 8s linear infinite;
  opacity:.6;
  transition: opacity 2s ease;
}
@keyframes rise{to{transform:translateY(-120vh)}}

@keyframes heartbeat {
  0%   { transform: scale(1); }
  14%  { transform: scale(1.05); }
  28%  { transform: scale(1); }
  42%  { transform: scale(1.05); }
  70%  { transform: scale(1); }
}

.heartbeat {
  animation: heartbeat 3.5s ease-in-out infinite;
}

#musicToggle {
  position: fixed;
  bottom: 20px;
  right: 20px;
  font-size: 1.6rem;
  cursor: pointer;
  opacity: 0.7;
  transition: transform 0.3s ease, opacity 0.3s ease;
  z-index: 1000;
}

#musicToggle .tooltip {
  position: absolute;
  bottom: 120%;
  right: 50%;
  transform: translateX(50%);
  background: rgba(0,0,0,0.75);
  color: #fff;
  font-size: 0.7rem;
  padding: 4px 8px;
  border-radius: 10px;
  white-space: nowrap;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s ease;
}

#musicToggle:hover .tooltip {
  opacity: 1;
}

#musicToggle.paused {
  opacity: 0.4;
  transform: scale(0.9);
}

.wax-seal {
  position: absolute;
  top: 55%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 42px;
  height: 42px;
  background: radial-gradient(circle at top left, #ff8fa3, #d6336c);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.2rem;
  cursor: pointer;
  box-shadow:
    inset -2px -2px 4px rgba(255,255,255,0.4),
    inset 2px 2px 6px rgba(0,0,0,0.25),
    0 6px 12px rgba(0,0,0,0.25);
  transition: transform 0.4s ease, opacity 0.4s ease;
  z-index: 5;
}

.wax-seal.broken {
  transform: translate(-50%, -50%) scale(0.6);
  opacity: 0;
  pointer-events: none;
}

.envelope {
  transition: box-shadow 0.4s ease, transform 0.4s ease;
}

/* Soft romantic glow */
.envelope.glow {
  box-shadow:
    0 0 25px rgba(255, 105, 180, 0.45),
    0 15px 30px rgba(0,0,0,0.18);
}

/* Heart cursor on hover */
.envelope:hover {
  cursor: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32'><text y='24' font-size='24'>‚ù§Ô∏è</text></svg>") 16 16, auto;
}

.ambient-heart {
  position: absolute;
  font-size: 1rem;
  opacity: 0;
  animation: ambientHeart 4s ease-in-out forwards;
  pointer-events: none;
}

@keyframes ambientHeart {
  0% {
    opacity: 0;
    transform: translateY(10px) scale(0.9);
  }
  20% {
    opacity: 0.6;
  }
  100% {
    opacity: 0;
    transform: translateY(-30px) scale(1.1);
  }
}
/* ===== LETTER SCROLL FIX (FINAL) ===== */



/* ‚úÖ FINAL LETTER FIX ‚Äî MOBILE SAFE */

#letter {
  display: block;
  padding: 24px 16px 80px; /* bottom space so button is reachable */
}

#letter .letter {
  margin: 0 auto;
}

#letter button {
  display: block;
  margin: 32px auto;
}


/* Romantic Back Button */
.back-btn {
  margin-top: 30px;
  padding: 14px 34px;
  border-radius: 999px;
  border: 1.5px solid rgba(225, 29, 72, 0.35);
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.85),
    rgba(255, 235, 240, 0.95)
  );
  color: var(--accent);
  font-size: 0.95rem;
  font-weight: 500;
  cursor: pointer;

  box-shadow:
    0 8px 20px rgba(225, 29, 72, 0.12),
    inset 0 0 0 rgba(255,255,255,0);

  transition: 
    transform 0.25s ease,
    box-shadow 0.25s ease,
    background 0.25s ease;
}

/* Hover (desktop) */
.back-btn:hover {
  transform: translateY(-2px);
  box-shadow:
    0 12px 26px rgba(225, 29, 72, 0.2);
  background: linear-gradient(
    135deg,
    rgba(255, 245, 248, 1),
    rgba(255, 225, 235, 1)
  );
}

/* Tap feedback (mobile) */
.back-btn:active {
  transform: scale(0.96);
}

</style>
</head>

<body>

<audio id="music" src="music.mp3" loop preload="none"></audio>


<!-- ENVELOPE -->
<section id="envelope" class="center">
  <div class="envelope" onclick="openEnvelope()">
    <div class="flap"></div>
    <div class="wax-seal" onclick="breakSeal(event)">‚ù§Ô∏è</div>
  </div>
  <p style="margin-top:15px;">For the love of my life ‚ù§Ô∏è</p>
</section>

<!-- LETTER -->
<section id="letter" class="letter-screen" style="display:none">
  <div class="letter-wrapper">
    <div class="letter">
    Dear Love,<br><br>

Another month with you,
and I still find myself smiling
at the smallest thoughts of you.

This month wasn‚Äôt just about days passing,
it was about moments ‚Äî
your voice, your words,
the comfort I feel just knowing you‚Äôre there.

You‚Äôve become a part of my everyday life
in a way I never expected,
and somehow,
everything feels softer, warmer,
and a little more beautiful because of you.

This letter is just the beginning.
Over the next few days,
I want to remind you ‚Äî
again and again ‚Äî
how special you are to me,
and how grateful I am to love you.

Happy monthsary, my heart.
This journey with you
is my favorite one.

This month wasn‚Äôt just about days passing,
it was about moments ‚Äî
your voice, your words,
the comfort I feel just knowing you‚Äôre there.

You‚Äôve become a part of my everyday life
in a way I never expected,
and somehow,
everything feels softer, warmer,
and a little more beautiful because of you.

This letter is just the beginning.
Over the next few days,
I want to remind you ‚Äî
again and again ‚Äî
how special you are to me,
and how grateful I am to love you.

Happy monthsary, my heart.
This journey with you
is my favorite one.

Always yours.
 ‚ù§Ô∏è<br><br>
    Yours always.
  </div>
  <button onclick="showCountdown()">Continue ‚ù§Ô∏è</button>
  </div>  
</section>

<!-- COUNTDOWN -->
<section id="countdown" class="center" style="display:none">
  <h2>7 Days. 7 Gifts. 1 Love ‚ù§Ô∏è</h2>
  <div class="cards" id="cards"></div>
  <button class="back-btn" onclick="backToLetter()">
  üíå Back to the letter
</button>

</section>

<!-- GIFT -->
<section id="gift" class="center" style="display:none">
  <div class="gift" id="giftIcon"></div>
  <p id="giftText" style="margin-top:15px"></p>
  <button onclick="showCountdown()">Back</button>
</section>

<!-- QUESTION -->
<section id="question" class="center" style="display:none">
  <h2>Will you be my Valentine? ‚ù§Ô∏è</h2>
  <img id="qImg" src="proposal.png" width="200" style="margin-top:20px">
  <div class="options">
    <button onclick="yes()">Yes üíñ</button>
    <button class="no" id="noBtn" onclick="firstNo()">No üò≠</button>
  </div>
</section>

<!-- FINAL -->
<section id="final" class="center" style="display:none">
  <img src="hug.png"
     width="260"
     class="heartbeat fade-in"
     style="margin-bottom:20px">


  <div class="letter" style="margin-top:20px">
    Some people come into our lives
and change everything.

You changed the way I love,
the way I hope,
and the way I see the future.

If I had to choose again ‚Äî
in every lifetime,
in every version of me ‚Äî
I would still choose you.

Always.
 ‚ù§Ô∏è
  </div>

  <button onclick="restartExperience()" style="margin-top:30px">
  Relive it again ‚ù§Ô∏è
</button>
</section>

<script>
const gifts = [
  {
    date: "2026-02-07",
    icon: "üåπ",
    label: "Rose Day",
    text: `If love had a color,
it would bloom like this rose.

Every time I think of you,
something beautiful grows inside me.
Soft, warm, and real ‚Äî
just like my love for you.`
  },
  {
    date: "2026-02-08",
    icon: "üíç",
    label: "Propose Day",
    text: `Today isn‚Äôt about big words,
it‚Äôs about quiet promises.

I promise to choose you
even on days when life feels heavy,
to stand with you,
and to love you in all the small ways
that truly matter.`
  },
  {
    date: "2026-02-09",
    icon: "üç´",
    label: "Chocolate Day",
    text: `Sweet things make people smile,
but you make my heart melt.

Every laugh,
every little moment with you
feels richer and warmer ‚Äî
like life tastes better
when you‚Äôre in it.`
  },
  {
    date: "2026-02-10",
    icon: "üß∏",
    label: "Teddy Day",
    text: `When I can‚Äôt hold you,
I wish this teddy could do it for me.

To remind you that
you are safe,
you are loved,
and you are always
wrapped in my thoughts.`
  },
  {
    date: "2026-02-11",
    icon: "ü§ù",
    label: "Promise Day",
    text: `Promises aren‚Äôt about perfection,
they‚Äôre about staying.

I promise to hold your hand
through laughter and silence,
to choose you every day,
and to always come back to us.`
  },
  {
    date: "2026-02-12",
    icon: "ü§ó",
    label: "Hug Day",
    text: `If I could give you a hug right now,
it would last a little longer than usual.

Long enough to say
‚ÄúI‚Äôm here,‚Äù
‚ÄúI‚Äôve got you,‚Äù
and ‚ÄúYou don‚Äôt have to face anything alone.‚Äù`
  },
  {
    date: "2026-02-13",
    icon: "üíã",
    label: "Kiss Day",
    text: `A kiss isn‚Äôt just a touch,
it‚Äôs a feeling.

It‚Äôs all the words
we don‚Äôt say out loud,
all the love we carry inside,
meeting in one quiet moment
just for us.`
  },
  {
    date: "2026-02-14",
    icon: "‚ù§Ô∏è",
    label: "Valentine‚Äôs Day",
    final: true
  }
];


let ambientHeartInterval = null;

function startAmbientHearts() {
  const envelope = document.querySelector('.envelope');
  if (!envelope) return;

  ambientHeartInterval = setInterval(() => {
    const heart = document.createElement('div');
    heart.className = 'ambient-heart';
    heart.innerText = '‚ù§Ô∏è';

    // Position near envelope (random side)
    const rect = envelope.getBoundingClientRect();
    const offsetX = Math.random() * 60 - 30; // left/right
    const offsetY = Math.random() * 20 + 10; // below flap

    heart.style.left = rect.left + rect.width / 2 + offsetX + 'px';
    heart.style.top = rect.top + rect.height / 2 + offsetY + 'px';

    document.body.appendChild(heart);

    setTimeout(() => heart.remove(), 4000);
  }, 4000); // every ~4.5 seconds
}


let sealBroken = false;

function breakSeal(e) {
  e.stopPropagation(); // prevent envelope click

  const seal = document.querySelector('.wax-seal');
  seal.classList.add('broken');

  sealBroken = true;

  if (ambientHeartInterval) {
  clearInterval(ambientHeartInterval);
}


  // Slight delay feels natural
  setTimeout(() => {
    openEnvelope();
  }, 300);
}

const envelopeEl = document.querySelector('.envelope');

envelopeEl.addEventListener('mouseenter', () => {
  envelopeEl.classList.add('glow');
});

envelopeEl.addEventListener('mouseleave', () => {
  envelopeEl.classList.remove('glow');
});

/* Mobile touch support */
envelopeEl.addEventListener('touchstart', () => {
  envelopeEl.classList.add('glow');
});

envelopeEl.addEventListener('touchend', () => {
  setTimeout(() => {
    envelopeEl.classList.remove('glow');
  }, 200); // keeps glow a bit longer
});



function openEnvelope(){
  if (!sealBroken) return;
  document.querySelector('.envelope').classList.add('open');

  music.volume = 0;
  music.load();

  music.play().then(() => {
    let vol = 0;
    const target = 0.28; // SOFT romantic volume

    const fade = setInterval(() => {
      if (vol < target) {
        vol += 0.01;
        music.volume = vol;
      } else {
        music.volume = target;
        clearInterval(fade);
      }
    }, 250);
  });

  setTimeout(() => {
    envelope.style.display = 'none';
    letter.style.display = 'block';
  }, 1000);
}


function showCountdown(){
 letter.style.display='none';
 gift.style.display='none';
 countdown.style.display='flex';
 cards.innerHTML='';
 const today=new Date().toISOString().split('T')[0];
 gifts.forEach(g=>{
  const d=document.createElement('div');
  d.className='card';
  d.innerHTML = `
  <div style="font-size:1.6rem">${g.icon}</div>
  <div style="margin-top:6px;font-size:.9rem">${g.label}</div>
`;

  if(today>=g.date){
   d.classList.add('unlocked');
   d.onclick=()=>openGift(g);
  }
  cards.appendChild(d);
 });
}

function backToLetter() {
  countdown.style.display = 'none';
  letter.style.display = 'block';

  // Smooth UX: scroll to top
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

function openGift(g){
 countdown.style.display='none';
 if(g.final){
  question.style.display='flex';
 }else{
  gift.style.display='flex';
  giftIcon.innerText=g.icon;
  giftText.innerText=g.text;
 }
}

let teased = false;

const noBtn = document.getElementById("noBtn");
const qImg = document.getElementById("qImg");

/* First NO click ‚Äì allowed */
function firstNo() {
  qImg.src = "proposal.png";
  document.querySelector("#question h2").innerText =
  "PLEASE üò≠";

  teased = true;

  // After first tease, NO starts escaping
  enableNoEscape();

  setTimeout(moveNoButton, 0);
}

/* Enable teasing behavior */
function enableNoEscape() {
  // Remove click (so it can't be clicked again)
  noBtn.onclick = null;

  // Desktop: escape on hover
  noBtn.addEventListener("mouseenter", moveNoButton);

  // Mobile: escape on touch
  noBtn.addEventListener("touchstart", (e) => {
    e.preventDefault();
    moveNoButton();
  });
}

/* Teleport logic */
function moveNoButton() {
  const maxX = window.innerWidth - noBtn.offsetWidth - 20;
  const maxY = window.innerHeight - noBtn.offsetHeight - 20;

  const x = Math.random() * maxX;
  const y = Math.random() * maxY;

  noBtn.style.position = "fixed";
  noBtn.style.left = x + "px";
  noBtn.style.top = y + "px";
}


function yes(){
  question.style.display = 'none';
  final.style.display = 'flex';
  hearts();

  // Fade music down softly
  let vol = music.volume;
  const fadeDown = setInterval(() => {
    if (vol > 0.12) {
      vol -= 0.02;
      music.volume = vol;
    } else {
      music.volume = 0.12;
      clearInterval(fadeDown);
    }
  }, 300);

  // Stop heartbeat after 6s (already correct)
  setTimeout(() => {
    document.querySelector('.heartbeat')?.classList.remove('heartbeat');
  }, 6000);
}


function hearts() {
  const heartInterval = setInterval(() => {
    const h = document.createElement('div');
    h.className = 'heart';
    h.innerText = '‚ù§Ô∏è';
    h.style.left = Math.random() * 100 + 'vw';
    document.body.appendChild(h);

    // Remove heart after animation
    setTimeout(() => h.remove(), 8000);
  }, 500);

  // üëá STOP hearts after 6 seconds
  setTimeout(() => {
    clearInterval(heartInterval);
  }, 6000);
  // Pause music after hearts finish
setTimeout(() => {
  music.pause();
  musicToggle.classList.add("paused");
}, 8500);

}

document.addEventListener("DOMContentLoaded", () => {
  const musicToggle = document.getElementById("musicToggle");

  musicToggle.addEventListener("click", () => {
    if (music.paused) {
      music.play();
      musicToggle.classList.remove("paused");
    } else {
      music.pause();
      musicToggle.classList.add("paused");
    }
  });
});

startAmbientHearts();

function restartExperience() {
  // Hide all sections
  envelope.style.display = 'flex';
  letter.style.display = 'none';
  countdown.style.display = 'none';
  gift.style.display = 'none';
  question.style.display = 'none';
  final.style.display = 'none';

  // Reset envelope visuals
  const env = document.querySelector('.envelope');
  env.classList.remove('open', 'glow');

  const seal = document.querySelector('.wax-seal');
  seal.classList.remove('broken');
  sealBroken = false;

  // Stop & reset music
  music.pause();
  music.currentTime = 0;

  // Remove floating hearts
  document.querySelectorAll('.heart, .ambient-heart').forEach(h => h.remove());

  // Scroll to top (mobile friendly)
  window.scrollTo({ top: 0, behavior: 'smooth' });

  // Restart ambient hearts
  startAmbientHearts();
}


</script>
<div id="musicToggle">
  ‚ù§Ô∏è
  <span class="tooltip">Play/ pause üíï</span>
</div>

</body>
</html>
